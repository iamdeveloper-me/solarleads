%link{href: "https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css", rel: "stylesheet"}/
%script{src: "https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"}
%script{src: "https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"}
.maincontainer
  .stepcontainer
    .homeslider
      .container
        %nav.navbar.container_nav
          / Brand and toggle get grouped for better mobile display
          .navbar-header
            %button.navbar-toggle.collapsed{"aria-expanded" => "false", "data-target" => "#bs-example-navbar-collapse-1", "data-toggle" => "collapse", type: "button"}
              %span.sr-only Toggle navigation
              %span.icon-bar
              %span.icon-bar
              %span.icon-bar
            %a.navbar-brand{href: "#"}
              = image_tag "new_logo.png"
          #bs-example-navbar-collapse-1.collapse.navbar-collapse
      %p.heading_class Choose where your power comes from
      %p.sub_title
        Lorem Ipsum is simply dummy text of the printing
        %br/
        and typesetting industry.
      .button-8.next.next_1
        .eff-8
        %a{href: "#"} Home Efficiency Calculator
      .bird-container.bird-container--one
        .bird.bird--one
      .bird-container.bird-container--two
        .bird.bird--two
      .bird-container.bird-container--three
        .bird.bird--three
      .bird-container.bird-container--four
        .bird.bird--four
    .steps1
    .steps2
      %h1.subtitle.fancy
        %span STEP 2 OF 3
      %h2.form_heading What is your address?
      %form{action: "/action_page.php"}
        %input{name: "email", size: "35", type: "text"}/
        %br/
        %input{name: "email", size: "35", type: "text"}/
        %br/
      %button.next.next_3
        Next
%script{src: "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"}
:javascript
  $(document).ready(function(){
    $('.next_1').click(function(){
      $("div").removeClass("last_active_step");
      $(this).parent('div').addClass("last_active_step");
      $('.stepcontainer').css("transform", "translate3d(0px, -100vh, 0px)");
    });
    $('.next_2').click(function(){
      $("div").removeClass("last_active_step");
      $(this).parent('div').addClass("last_active_step");
      $('.stepcontainer').css("transform", "translate3d(0px, -200vh, 0px)");
    });
    $('.next_3').click(function(){
      $("div").removeClass("last_active_step");
      $(this).parent('div').addClass("last_active_step");
     $('.stepcontainer').css("transform", "translate3d(0px, -300vh, 0px)");
    });
    $('.next_4').click(function(){
     $('.stepcontainer').css("transform", "translate3d(0px, -400vh, 0px)");
    });
    $('.next_5').click(function(){
     $('.stepcontainer').css("transform", "translate3d(0px, -500vh, 0px)");
    });
    $('.next_6').click(function(){
     $('.stepcontainer').css("transform", "translate3d(0px, -600vh, 0px)");
    });
    $('.next_7').click(function(){
     $('.stepcontainer').css("transform", "translate3d(0px, -700vh, 0px)");
    });
    $('.next_8').click(function(){
     $('.stepcontainer').css("transform", "translate3d(0px, -600vh, 0px)");
    });

    $('.previous-button').click(function(){
      // last_active_step
      // alert(parseInt($('.stepcontainer').css('transform').split(',')[5]) * 0.65)
      // $('.stepcontainer').css('transform', "translate3d(0px, -0vh, 0px)")
      var value, match;
      var slideTransform = $('.stepcontainer').attr('style').split(';');

      $.map(slideTransform, function(style){
          style = style.trim();
          if (style.startsWith('transform: translate3d')) {
              // var s = "transform:translate3d(-1513px, 0px, 0px);"
              // s.match(/transform:translate3d\((.+)px,(.+)px,(.+)px\)/);

              // "transform: translate3d(0px, -300vh, 0px)"
              match = style.match(/transform: translate3d\((.+)px,(.+)vh,(.+)px\)/);
              
              value = parseInt(match[2]);
              // var newValue = value + 100;
              // console.log(newValue);
              // return 'transform:translate3d(' + newValue + 'px, 0px, 0px)';
          }
      });

      var new_vh = value+100;
      if (new_vh < 1) {
        $('.stepcontainer').css('transform', "translate3d(0px, " + new_vh + "vh, 0px)")
      }
    });
  });